# Popup Notifications Plugin

Плагин для управления всплывающими уведомлениями на сайте WordPress с настройками в админ-панели.

## Возможности

- ✅ Управление уведомлениями через админ-панель
- ✅ Настраиваемые заголовки, содержимое и кнопки
- ✅ Автоматический показ через 2 минуты после загрузки страницы
- ✅ Возможность включения/отключения отдельных уведомлений
- ✅ Адаптивный дизайн для мобильных устройств
- ✅ Сохранение состояния закрытых уведомлений
- ✅ AJAX обработка без перезагрузки страницы

## Установка

1. Скопируйте папку `popup-notifications` в директорию `/wp-content/plugins/`
2. Активируйте плагин в админ-панели WordPress
3. Перейдите в "Настройки" → "Popup Notifications" для настройки

## Использование

### Админ-панель

После активации плагина в админ-панели появится новый пункт меню "Popup Notifications" в разделе "Настройки".

#### Основные настройки:
- **Включить уведомления** - общий переключатель для всех уведомлений

#### Настройки каждого уведомления:
- **Включено** - показать/скрыть конкретное уведомление
- **Заголовок** - заголовок уведомления
- **Содержимое** - основной текст уведомления
- **Текст кнопки** - текст на кнопке действия

### По умолчанию

Плагин создает 2 уведомления:
1. **"Добро пожаловать!"** - приветственное сообщение
2. **"Специальное предложение"** - рекламное уведомление

### Поведение уведомлений

- Уведомления появляются через **2 минуты** после загрузки страницы
- Уведомления остаются на экране до тех пор, пока пользователь не закроет их вручную
- Закрытые уведомления не показываются повторно (сохраняется в localStorage и cookies)

## Технические детали

### Файловая структура
```
popup-notifications/
├── popup-notifications.php    # Основной файл плагина
├── assets/
│   ├── style.css             # Стили уведомлений
│   └── script.js             # JavaScript логика
└── README.md                 # Документация
```

### Хуки и фильтры

Плагин использует стандартные WordPress хуки:
- `init` - инициализация плагина
- `admin_menu` - добавление пункта в админ-панель
- `wp_enqueue_scripts` - подключение стилей и скриптов
- `wp_footer` - вывод уведомлений на фронтенде

### AJAX действия

- `popup_notifications_dismiss` - закрытие уведомления
- `popup_notifications_save_settings` - сохранение настроек

## Кастомизация

### Стили

Стили находятся в файле `assets/style.css`. Основные классы:
- `.popup-notification` - основной контейнер уведомления
- `.popup-notification-content` - содержимое уведомления
- `.popup-notification-title` - заголовок
- `.popup-notification-text` - текст
- `.popup-notification-button` - кнопка действия
- `.popup-notification-close` - кнопка закрытия

### JavaScript

Логика находится в файле `assets/script.js`. Основные функции:
- `initNotifications()` - инициализация уведомлений
- `showNotification()` - показ уведомления
- `hideNotification()` - скрытие уведомления
- `dismissNotification()` - отправка AJAX запроса

## Требования

- WordPress 5.0+
- PHP 7.4+
- jQuery (включен в WordPress по умолчанию)

## Поддержка

При возникновении проблем проверьте:
1. Активирован ли плагин
2. Правильно ли настроены уведомления в админ-панели
3. Нет ли конфликтов с другими плагинами
4. Работает ли JavaScript в браузере

## Версия

Текущая версия: 1.0.0
